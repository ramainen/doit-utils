<?php//контроллерclass UsersController {	//Регистрация  	function registration()	{	  		if(d()->validate('users_registration')){			$user=d()->User->new;			$user->login=d()->params['login'];			$user->email=d()->params['email'];			$user->password=md5(d()->params['password']);			$user->save();			header('Location: /');			exit();		}		print d()->view();	}		function auth()	{		if(d()->validate('users_auth')){			$check=d()->User->where('login = ? and password = ?',d()->params['login'],md5(d()->params['password']));			if(count($check)==1){				print "Уаря!";				d()->Auth->login($check->id);				header('Location: /');				exit();			}			d()->add_notice('Логин или пароль неверен');		}		print d()->view();	}		//проверка на занятость ника и другие проверки}function too_short($login){	if( strlen($login)<4) {		return false;	}}		 